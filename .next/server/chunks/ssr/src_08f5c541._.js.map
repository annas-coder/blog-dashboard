{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Assessment%20Urbio/new-blog-dashboard/src/components/Loader.tsx"],"sourcesContent":["import React from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Box from '@mui/material/Box';\r\n\r\nexport function Loader() {\r\n  return (\r\n    <Box sx={{ display: 'flex',justifyContent:\"center\",alignItems:\"center\",height:'100%',position:\"fixed\",inset:0 }}>\r\n        <CircularProgress />\r\n    </Box>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;;;;AAEO,SAAS;IACd,qBACE,qKAAC,+IAAA,CAAA,UAAG;QAAC,IAAI;YAAE,SAAS;YAAO,gBAAe;YAAS,YAAW;YAAS,QAAO;YAAO,UAAS;YAAQ,OAAM;QAAE;kBAC1G,cAAA,qKAAC,yKAAA,CAAA,UAAgB;;;;;;;;;;AAGzB","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Assessment%20Urbio/new-blog-dashboard/src/blog/PostList.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Container, Grid, Card, CardContent, Typography, Button } from '@mui/material';\r\nimport { useGetBlogCountQuery, useGetBlogListQuery } from \"@/services\";\r\nimport Link from 'next/link';\r\nimport { Loader } from '@/components/Loader';\r\nimport { useCallback, useRef, useState } from 'react';\r\n\r\nexport const PostList = () =>{\r\n    const page = 1;\r\n    const observer = useRef<IntersectionObserver | null>(null);;\r\n    const [limit,setLimit] = useState<number>(10);\r\n    const [hasMore,setHasMore] = useState<boolean>(false);\r\n    const { data : totalData } = useGetBlogCountQuery(undefined,\r\n      {\r\n        pollingInterval: 120000,\r\n        refetchOnFocus: true,\r\n        refetchOnReconnect: true,\r\n        //auto refetching the api \r\n      }\r\n    );\r\n    const { data, error, isLoading , isFetching } = useGetBlogListQuery({page,limit},\r\n      {\r\n        pollingInterval: 120000,\r\n        refetchOnFocus: true,\r\n        refetchOnReconnect: true,\r\n        //auto refetching the api \r\n      }\r\n    );\r\n\r\n    const loadMoreRef = useCallback((node: HTMLDivElement | null) => {\r\n      if (isFetching) return;\r\n  \r\n      if (observer.current) observer.current.disconnect();\r\n  \r\n      observer.current = new IntersectionObserver(entries => {\r\n        if (entries[0].isIntersecting && !hasMore) {\r\n          if (totalData && totalData.length > limit) {\r\n            setLimit(prev => prev + 10);\r\n          } else {\r\n            setHasMore(true);\r\n          }\r\n        }\r\n      });\r\n  \r\n      if (node) observer.current.observe(node);\r\n    }, [isFetching, hasMore, totalData, limit]);\r\n\r\n\r\n    if (isLoading) return <Loader/>;\r\n    if (error) return <div>Error loading posts!</div>;\r\n\r\n  return(\r\n    <Container>\r\n      <Grid container spacing={2}>\r\n        {Array.isArray(data) && data.length > 0 && data?.map((post) => (    \r\n          <Grid item size={{ xs: 12, sm: 4, md: 4 }} key={post.id}>\r\n            <Card sx={{width:'100%'}}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" gutterBottom>{post.title}</Typography>\r\n                <Typography variant=\"subtitle2\" paragraph>{post?.author}</Typography>\r\n                <Typography variant=\"body2\" color='text.secondary' paragraph>{post?.excerpt}</Typography>\r\n                <Button\r\n                  component={Link}\r\n                  href={{\r\n                      pathname: '/detail',\r\n                      query: { id: post.id },\r\n                    }}\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                >\r\n                  Read More\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n    </Grid>\r\n    \r\n      <div ref={loadMoreRef} style={{ height: '20px' }} />\r\n     \r\n      {\r\n        hasMore && \r\n          <Typography variant=\"h6\" align='center' paragraph>you have reached the limit</Typography>\r\n      }\r\n\r\n      {isFetching && <Loader />}\r\n  </Container>\r\n  )\r\n}"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;AANA;;;;;;;AAQO,MAAM,WAAW;IACpB,MAAM,OAAO;IACb,MAAM,WAAW,CAAA,GAAA,mGAAA,CAAA,SAAM,AAAD,EAA+B;;IACrD,MAAM,CAAC,OAAM,SAAS,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAU;IAC1C,MAAM,CAAC,SAAQ,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAW;IAC/C,MAAM,EAAE,MAAO,SAAS,EAAE,GAAG,CAAA,GAAA,kHAAA,CAAA,uBAAoB,AAAD,EAAE,WAChD;QACE,iBAAiB;QACjB,gBAAgB;QAChB,oBAAoB;IAEtB;IAEF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAG,UAAU,EAAE,GAAG,CAAA,GAAA,kHAAA,CAAA,sBAAmB,AAAD,EAAE;QAAC;QAAK;IAAK,GAC7E;QACE,iBAAiB;QACjB,gBAAgB;QAChB,oBAAoB;IAEtB;IAGF,MAAM,cAAc,CAAA,GAAA,mGAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC/B,IAAI,YAAY;QAEhB,IAAI,SAAS,OAAO,EAAE,SAAS,OAAO,CAAC,UAAU;QAEjD,SAAS,OAAO,GAAG,IAAI,qBAAqB,CAAA;YAC1C,IAAI,OAAO,CAAC,EAAE,CAAC,cAAc,IAAI,CAAC,SAAS;gBACzC,IAAI,aAAa,UAAU,MAAM,GAAG,OAAO;oBACzC,SAAS,CAAA,OAAQ,OAAO;gBAC1B,OAAO;oBACL,WAAW;gBACb;YACF;QACF;QAEA,IAAI,MAAM,SAAS,OAAO,CAAC,OAAO,CAAC;IACrC,GAAG;QAAC;QAAY;QAAS;QAAW;KAAM;IAG1C,IAAI,WAAW,qBAAO,qKAAC,qHAAA,CAAA,SAAM;;;;;IAC7B,IAAI,OAAO,qBAAO,qKAAC;kBAAI;;;;;;IAEzB,qBACE,qKAAC,mMAAA,CAAA,YAAS;;0BACR,qKAAC,oLAAA,CAAA,OAAI;gBAAC,SAAS;gBAAC,SAAS;0BACtB,MAAM,OAAO,CAAC,SAAS,KAAK,MAAM,GAAG,KAAK,MAAM,IAAI,CAAC,qBACpD,qKAAC,oLAAA,CAAA,OAAI;wBAAC,IAAI;wBAAC,MAAM;4BAAE,IAAI;4BAAI,IAAI;4BAAG,IAAI;wBAAE;kCACtC,cAAA,qKAAC,oLAAA,CAAA,OAAI;4BAAC,IAAI;gCAAC,OAAM;4BAAM;sCACrB,cAAA,qKAAC,yMAAA,CAAA,cAAW;;kDACV,qKAAC,sMAAA,CAAA,aAAU;wCAAC,SAAQ;wCAAK,YAAY;kDAAE,KAAK,KAAK;;;;;;kDACjD,qKAAC,sMAAA,CAAA,aAAU;wCAAC,SAAQ;wCAAY,SAAS;kDAAE,MAAM;;;;;;kDACjD,qKAAC,sMAAA,CAAA,aAAU;wCAAC,SAAQ;wCAAQ,OAAM;wCAAiB,SAAS;kDAAE,MAAM;;;;;;kDACpE,qKAAC,0LAAA,CAAA,SAAM;wCACL,WAAW,qHAAA,CAAA,UAAI;wCACf,MAAM;4CACF,UAAU;4CACV,OAAO;gDAAE,IAAI,KAAK,EAAE;4CAAC;wCACvB;wCACF,SAAQ;wCACR,OAAM;kDACP;;;;;;;;;;;;;;;;;uBAdyC,KAAK,EAAE;;;;;;;;;;0BAuB3D,qKAAC;gBAAI,KAAK;gBAAa,OAAO;oBAAE,QAAQ;gBAAO;;;;;;YAG7C,yBACE,qKAAC,sMAAA,CAAA,aAAU;gBAAC,SAAQ;gBAAK,OAAM;gBAAS,SAAS;0BAAC;;;;;;YAGrD,4BAAc,qKAAC,qHAAA,CAAA,SAAM;;;;;;;;;;;AAG5B","debugId":null}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Assessment%20Urbio/new-blog-dashboard/src/pages/index.tsx"],"sourcesContent":["import { PostList } from \"@/blog/PostList\";\nimport { Button, Typography , Container, Box} from \"@mui/material\";\nimport CreateIcon from '@mui/icons-material/Create';\n\nexport default function Home() {\n  return (\n    <div>\n      <Container sx={{my:3}}>\n      <Box\n          className=\"\"\n          sx={{\n            display: 'flex',\n            flexDirection: { xs: 'column', sm: 'row' },\n            alignItems: { xs: '', sm: 'center' },\n            justifyContent: { xs: '', sm: 'center' },\n            gap: { xs: 1, sm: 2 },\n          }}\n      >       \n        <Typography\n          variant=\"h4\"\n          align=\"center\"\n          gutterBottom\n          color=\"text.primary\"\n          sx={{ flexGrow: 1 , mb:0 , paddingLeft : { xs : \"0px\" , sm: '140px'} }}\n\n        >\n          Blog Dashboard\n        </Typography>\n\n        <Box sx={{  display: 'flex', justifyContent: { xs: 'flex-end', sm: 'flex-start' } }}>\n          <Button variant=\"contained\" startIcon={<CreateIcon />} href=\"/add\">\n            Create Blog\n          </Button>\n        </Box>\n      </Box>\n      </Container>\n      <PostList/>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;AAEe,SAAS;IACtB,qBACE,qKAAC;;0BACC,qKAAC,mMAAA,CAAA,YAAS;gBAAC,IAAI;oBAAC,IAAG;gBAAC;0BACpB,cAAA,qKAAC,iLAAA,CAAA,MAAG;oBACA,WAAU;oBACV,IAAI;wBACF,SAAS;wBACT,eAAe;4BAAE,IAAI;4BAAU,IAAI;wBAAM;wBACzC,YAAY;4BAAE,IAAI;4BAAI,IAAI;wBAAS;wBACnC,gBAAgB;4BAAE,IAAI;4BAAI,IAAI;wBAAS;wBACvC,KAAK;4BAAE,IAAI;4BAAG,IAAI;wBAAE;oBACtB;;sCAEF,qKAAC,sMAAA,CAAA,aAAU;4BACT,SAAQ;4BACR,OAAM;4BACN,YAAY;4BACZ,OAAM;4BACN,IAAI;gCAAE,UAAU;gCAAI,IAAG;gCAAI,aAAc;oCAAE,IAAK;oCAAQ,IAAI;gCAAO;4BAAE;sCAEtE;;;;;;sCAID,qKAAC,iLAAA,CAAA,MAAG;4BAAC,IAAI;gCAAG,SAAS;gCAAQ,gBAAgB;oCAAE,IAAI;oCAAY,IAAI;gCAAa;4BAAE;sCAChF,cAAA,qKAAC,0LAAA,CAAA,SAAM;gCAAC,SAAQ;gCAAY,yBAAW,qKAAC,oJAAA,CAAA,UAAU;;;;;gCAAK,MAAK;0CAAO;;;;;;;;;;;;;;;;;;;;;;0BAMvE,qKAAC,iHAAA,CAAA,WAAQ;;;;;;;;;;;AAGf","debugId":null}}]
}